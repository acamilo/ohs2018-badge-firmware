language: generic
branches:
  only:
  - \d+(\.\d+)+

sudo: required

if: tag IS present

addons:
  apt:
    packages:
       - wget
       - make
       - libncurses-dev
       - flex
       - bison
       - gperf
       - python
       - python-serial
       - build-essential
       - libreadline-dev
       - libffi-dev
       - pkg-config

script: bash scripts/build.sh


deploy:
  provider: script
  skip_cleanup: true
  script: bash scripts/deploy.sh
